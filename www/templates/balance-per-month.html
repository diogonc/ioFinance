<ion-view view-title="Saldo por mês">
  <ion-content overflow-scroll="true">
    <ion-scroll class="fixed-height" direction="xy" zooming="true">
      <ion-list>
        <div class="row bold">
          <div class="col col-20"></div>
          <div class="col col-20 align-rigth" ng-repeat="date in itens.dates">
            {{date}}
          </div>
          <div class="col col-20 align-rigth">Média</div>
          <div class="col col-20 align-rigth">Total</div>
        </div>
        <div class="row bold">Créditos</div>
        <div class="row" ng-repeat="category in itens.creditCategories">
          <div class="col col-20">
            {{ category.category.name | limitTo: 10 }}{{category.category.name.length > 10 ? '...' : ''}}
          </div>
          <div class="col col-20 align-rigth" ng-repeat="balance in category.balance">
            {{balance.value | number: 2}}
          </div>
          <div class="col col-20 align-rigth">{{category.average() | number: 2}}</div>
          <div class="col col-20 align-rigth">{{category.sum | number: 2}}</div>
        </div>
        <div class="row bold">
          <div class="col col-20">Total</div>
          <div class="col col-20 align-rigth" ng-repeat="sum in itens.totalCredits.balance">
            {{sum.value | number: 2}}
          </div>
          <div class="col col-20 align-rigth">{{itens.totalCredits.average() | number: 2}}</div>
          <div class="col col-20 align-rigth">{{itens.totalCredits.sum | number: 2}}</div>
        </div>
        <div class="row bold">Débitos</div>
        <div class="row" ng-repeat="category in itens.debitCategories">
          <div class="col col-20">
            {{ category.category.name | limitTo: 10 }}{{category.category.name.length > 10 ? '...' : ''}}
          </div>
          <div class="col col-20 align-rigth" ng-repeat="balance in category.balance">
            {{balance.value | number: 2}}
          </div>
          <div class="col col-20 align-rigth">{{category.average() | number: 2}}</div>
          <div class="col col-20 align-rigth">{{category.sum | number: 2}}</div>
        </div>
        <div class="row bold">
          <div class="col col-20">Total</div>
          <div class="col col-20 align-rigth" ng-repeat="sum in itens.totalDebits.balance">
            {{sum.value | number: 2}}
          </div>
          <div class="col col-20 align-rigth">{{itens.totalDebits.average() | number: 2}}</div>
          <div class="col col-20 align-rigth">{{itens.totalDebits.sum | number: 2}}</div>
        </div>
        <div class="row bold">
          <div class="col col-20">Saldo</div>
          <div class="col col-20 align-rigth" ng-repeat="sum in itens.totalDebits.balance track by $index">
            {{(itens.totalCredits.balance[$index].value - sum.value) | number: 2}}
          </div>
          <div class="col col-20 align-rigth">
            {{(itens.totalCredits.average() - itens.totalDebits.average()) | number: 2}}
            </div>
          <div class="col col-20 align-rigth">
            {{(itens.totalCredits.sum - itens.totalDebits.sum) | number: 2}}
            </div>
        </div>
      </ion-list>
    </ion-scroll>
  </ion-content>
</ion-view>
